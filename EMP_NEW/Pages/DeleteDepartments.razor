@page "/DeleteDepartment/{CurrentID}"
@using EMP_NEW.Data
@inject EMP_NEW.Service.DepartmentService departmentService
@inject NavigationManager NavigationManager
@inject Service.DepartmentService objDepartmentService

<h2>Delete Department</h2>
<hr />
<h3>Are You Sure to delete this Department ???</h3>

<div class="row">
    <div class="col-md-8">
        <div class="form-group">
            <label>DepartmentName</label>
            <label>@department.DepartmentName</label>
        </div>

        <div class="form-group">
            <label>PhoneNumber</label>
            <label>@department.PhoneNumber</label>
        </div>
        <div class="form-group">
            <input type="button" value="Delete Employee" @onclick="@DeleteDepartment" class="btn btn-primary" />

            <input type="button" value="Cancel" @onclick="@Cancel" class="btn btn-primary" />
        </div>


    </div>
</div>

@code {
    [Parameter]
    public string CurrentID { get; set; }
    Data.Department department = new Data.Department();

    protected override async Task OnInitializedAsync() => department = await Task.Run(() => objDepartmentService.GetDepartmentById(Convert.ToInt32(CurrentID)));


    Data.Department departments = new Data.Department();
    protected void DeleteDepartment()
    {
        departmentService.DeleteDepartment  (departments);
        NavigationManager.NavigateTo("DepartmentList");

    }
    void Cancel()
    {

        NavigationManager.NavigateTo("DepartmentList");
    }

}